
<!doctype html>
<html>
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-174267360-2"></script>
  <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-174267360-2');
  </script>
  <meta charset="utf-8">
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link href="../images/favicon-7d95b84d.ico" rel="icon" type="image/ico" />
  <title>Android SDK Documentation</title>

  <style media="screen">
    .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
  </style>
  <style media="print">
    * {
      -webkit-transition: none !important;
      transition: none !important;
    }

    .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
  </style>
  <link href="../stylesheets/screen-645a5a69.css" rel="stylesheet" media="screen" />
  <link href="../stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
    <script src="../javascripts/all-e9bde216.js"></script>

    <script>
        $(function () {
            setupCodeCopy();
        });
    </script>
</head>

<body class="android android_index" data-languages="[&quot;java&quot;]">
<a href="#" id="nav-button">
      <span>
        NAV
        <img src="../images/navbar-cad8cdcb.png" alt="" />
      </span>
</a>
<div class="toc-wrapper">
  <a href="/"><img src="../images/logo-512e0f88.png" class="logo" alt="" /></a>
    <div class="lang-selector">
          <a href="#" data-language-name="java">java</a>
    </div>
    <div class="search">
      <input type="text" class="search" id="input-search" placeholder="Search">
    </div>
    <ul class="search-results"></ul>
  <ul id="toc" class="toc-list-h1">
      <li>
        <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
      </li>
      <li>
        <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          <ul class="toc-list-h2">
              <li>
                <a href="#authentication-begin-a-user-session" class="toc-h2 toc-link" data-title="Begin a user session">Begin a user session</a>
              </li>
          </ul>
      </li>
      <li>
        <a href="#current-user" class="toc-h1 toc-link" data-title="Current User">Current User</a>
      </li>
      <li>
        <a href="#channels" class="toc-h1 toc-link" data-title="Channels">Channels</a>
          <ul class="toc-list-h2">
              <li>
                <a href="#channels-channel-types" class="toc-h2 toc-link" data-title="Channel Types">Channel Types</a>
              </li>
              <li>
                <a href="#channels-get-channels" class="toc-h2 toc-link" data-title="Get channels">Get channels</a>
              </li>
              <li>
                <a href="#channels-listen-to-channel-events" class="toc-h2 toc-link" data-title="Listen to channel events">Listen to channel events</a>
              </li>
          </ul>
      </li>
      <li>
        <a href="#messages" class="toc-h1 toc-link" data-title="Messages">Messages</a>
          <ul class="toc-list-h2">
              <li>
                <a href="#messages-messages-types" class="toc-h2 toc-link" data-title="Messages Types">Messages Types</a>
              </li>
              <li>
                <a href="#messages-get-messages" class="toc-h2 toc-link" data-title="Get messages">Get messages</a>
              </li>
              <li>
                <a href="#messages-send-a-message" class="toc-h2 toc-link" data-title="Send a message">Send a message</a>
              </li>
          </ul>
      </li>
      <li>
        <a href="/reference/android/index.html" class="toc-h1 toc-link" data-title="Reference">SDK Reference</a>
      </li>
  </ul>
    <ul class="toc-footer">
        <li><a href='https://www.chatkitty.com'>&copy; ChatKitty 2020. All rights reserved</a></li>
    </ul>
</div>
<div class="page-wrapper">
  <div class="dark-box"></div>
  <div class="content">
    <h1 id='introduction'>Introduction</h1>
<p>Integrate <strong>real-time chat</strong> into your Android application with the ChatKitty SDK for Android.   </p>
<h1 id='authentication'>Authentication</h1>
<p><strong>Initialize the Chat SDK with your API key</strong>  </p>

<blockquote>
<p>Get a ChatKitty instance with your application API key</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">ChatKitty</span> <span class="n">kitty</span> <span class="o">=</span> <span class="nc">ChatKitty</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="no">CHATKITTY_API_KEY</span><span class="o">);</span>
</code></pre></div>
<p>Get a <code>ChatKitty</code> instance by passing your application&#39;s API key to the <code>ChatKitty.getInstance(String)</code> method as a parameter.</p>
<h2 id='authentication-begin-a-user-session'>Begin a user session</h2>
<p>To make calls to ChatKitty through the Chat SDK, a user session must be initiated.</p>

<p>You can initiate a user session using the unique <strong>username</strong> of a user and a <strong>challenge token</strong>, or 
using a just username if the user is a guest.</p>

<aside class="notice">
 A username must be unique within a ChatKitty application.<br/>
 We recommend you use as a hashed email address or phone number as your ChatKitty usernames.
</aside>
<h3 id='authentication-begin-a-user-session-begin-a-user-session-with-a-user-name-and-challenge-token'>Begin a user session with a user name and challenge token</h3>
<blockquote>
<p>Starting a user session</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">kitty</span><span class="o">.</span><span class="na">startSession</span><span class="o">(</span><span class="no">CHATKITTY_USERNAME</span><span class="o">,</span> <span class="no">CHATKITTY_CHALLENGE_TOKEN</span><span class="o">,</span> <span class="k">new</span> <span class="nc">ChatKittyCallback</span><span class="o">&lt;</span><span class="nc">SessionStartResult</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="nc">SessionStartResult</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">CurrentUser</span> <span class="n">user</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getCurrentUser</span><span class="o">();</span>

    <span class="c1">// Handle user</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// Handle request cancellation</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">ChatKittyException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// Handle error</span>
  <span class="o">}</span>
<span class="o">});</span>
</code></pre></div>
<p>Create a challenge token for a user server-side using the <strong>Platform API</strong>. You can then begin a user session by calling the 
<code>ChatKitty.startSession(String, String, ChatKittyCallback&lt;SessionStartResult&gt;)</code> method with your user&#39;s unique name and challenge token.</p>

<aside class="notice">
 You should store user challenge tokens securely to your persistent storage. <br>
 When a user logs into your client application, load the user's username and challenge token from storage 
 and use them to start a user session. 
</aside>
<h3 id='authentication-begin-a-user-session-begin-a-user-session-with-a-user-name-guest-user-session'>Begin a user session with a user name (Guest user session)</h3>
<blockquote>
<p>Starting a guest user session</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">kitty</span><span class="o">.</span><span class="na">startSession</span><span class="o">(</span><span class="no">CHATKITTY_USERNAME</span><span class="o">,</span> <span class="k">new</span> <span class="nc">ChatKittyCallback</span><span class="o">&lt;</span><span class="nc">SessionStartResult</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="nc">SessionStartResult</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">CurrentUser</span> <span class="n">user</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getCurrentUser</span><span class="o">();</span>

    <span class="c1">// Handle user</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// Handle request cancellation</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">ChatKittyException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// Handle error</span>
  <span class="o">}</span>
<span class="o">});</span>
</code></pre></div>
<p>If your application has the <strong>guest user</strong> feature enabled, you can begin a user session by calling the 
<code>ChatKitty.startSession(String, ChatKittyCallback&lt;SessionStartResult&gt;)</code> method with your user&#39;s unique name.</p>

<aside class="notice">
 Guest users are appropriate when your application in development, if your application supports anonymous chat, or if you don't have back-end authentication.
</aside>

<aside class="success">
  Go to the <a href="#callbacks">Callbacks</a> page to learn more about ChatKitty callbacks.
</aside>
<h1 id='current-user'>Current User</h1>
<blockquote>
<p>Get the current user</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">kitty</span><span class="o">.</span><span class="na">getCurrentUser</span><span class="o">(</span><span class="k">new</span> <span class="nc">ChatKittyCallback</span><span class="o">&lt;</span><span class="nc">GetCurrentUserResult</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="nc">GetCurrentUserResult</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">CurrentUser</span> <span class="n">user</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getCurrentUser</span><span class="o">();</span>

    <span class="c1">// Handle user</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// Handle request cancellation</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">ChatKittyException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// Handle error</span>
  <span class="o">}</span>
<span class="o">});</span>
</code></pre></div>
<p>After starting a ChatKitty <a href="#authentication-begin-a-user-session">user session</a>, you can request the current user 
anytime by calling the <code>ChatKitty.getCurrentUser(ChatKittyCallback&lt;GetCurrentUserResult&gt;)</code> method.</p>
<h1 id='channels'>Channels</h1>
<p>Channels are the backbone of the ChatKitty chat experience. Users can join channels and receive 
or send messages. ChatKitty broadcasts messages created in channels to <strong>channel members</strong> with active 
<strong>chat sessions</strong> and sends <strong>push notifications</strong> to offline members.</p>
<h2 id='channels-channel-types'>Channel Types</h2>
<p>There are four types of channels;</p>
<h3 id='channels-channel-types-open-channel'>Open Channel</h3>
<p>Open channels provide Twitch-style chats where many users can join the chat without invites and send 
messages. </p>

<aside class="notice">
Messages sent in open channels are <b>ephemeral</b> and not persisted by ChatKitty.
</aside>
<h3 id='channels-channel-types-public-channel'>Public Channel</h3>
<p>Users can join public channels by themselves (like an open chat) or via invites from an existing channel member.
ChatKitty persists messages sent in public channels by default but this behaviour can be configured.</p>
<h3 id='channels-channel-types-private-channel'>Private Channel</h3>
<p>Users can only join private channels via invites from an existing channel member.
ChatKitty persists messages sent in private channels by default but this behaviour can be configured.</p>
<h3 id='channels-channel-types-direct-channel'>Direct Channel</h3>
<p>Direct channels let users have private conversations between <strong>up to 9</strong> other users.
New users cannot be added to a direct channel and there can only exist one direct channel between a set of users.</p>
<h2 id='channels-get-channels'>Get channels</h2>
<blockquote>
<p>Get channels accessible by the current user</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">kitty</span><span class="o">.</span><span class="na">getChannels</span><span class="o">(</span><span class="k">new</span> <span class="nc">ChatKittyCallback</span><span class="o">&lt;</span><span class="nc">GetChannelsResult</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="nc">GetChannelsResult</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">PageIterator</span><span class="o">&lt;</span><span class="nc">Channel</span><span class="o">&gt;</span> <span class="n">iterator</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>

    <span class="k">while</span><span class="o">(</span><span class="n">iterator</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
      <span class="nc">Channel</span> <span class="n">channel</span> <span class="o">=</span> <span class="n">iterator</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>

      <span class="c1">// Handle channel</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// Handle request cancellation</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">ChatKittyException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// Handle error</span>
  <span class="o">}</span>
<span class="o">});</span>
</code></pre></div>
<p>You can get channels the current user has joined or can join by calling the <code>ChatKitty.getChannels(ChatKittyCallback&lt;GetChannelsResult&gt;)</code> method.</p>
<h2 id='channels-listen-to-channel-events'>Listen to channel events</h2>
<p>When an event involving a channel happens, like a message sent in the channel or a user joining the channel, 
a <code>ChannelEvent</code> is sent to registered <code>ChannelEventListener</code>s.</p>
<h3 id='channels-listen-to-channel-events-registering-a-channel-event-listener'>Registering a channel event listener</h3>
<blockquote>
<p>Register a channel event listener</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">ChannelEventListenerRegistration</span> <span class="n">registration</span> <span class="o">=</span> <span class="n">kitty</span><span class="o">.</span><span class="na">registerChannelEventListener</span><span class="o">(</span><span class="n">channel</span><span class="o">,</span> <span class="k">new</span> <span class="nc">ChannelEventListener</span><span class="o">()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onMessageReceived</span><span class="o">(</span><span class="nc">MessageReceivedEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span> 
    <span class="nc">Message</span> <span class="n">message</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="na">getMessage</span><span class="o">();</span>

    <span class="c1">// Handle message</span>
  <span class="o">}</span>
<span class="o">});</span>
</code></pre></div>
<p>Register a <code>ChannelEventListener</code> by calling the <code>ChatKitty.registerChannelEventListener(Channel, ChannelEventListener)</code> method. 
This method returns a <code>ChannelEventListenerRegistration</code> object.</p>
<h3 id='channels-listen-to-channel-events-deregistering-a-channel-event-listener'>Deregistering a channel event listener</h3>
<blockquote>
<p>Deregister a channel event listener</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">registration</span><span class="o">.</span><span class="na">deregister</span><span class="o">();</span> <span class="c1">// ChannelEventListenerRegistration</span>
</code></pre></div>
<p>Deregister a <code>ChannelEventListener</code> by calling the <code>ChannelEventListenerRegistration.deregister()</code> method on 
<code>ChannelEventListenerRegistration</code> object returned from registering the event listener.</p>
<h1 id='messages'>Messages</h1>
<p>Users send messages through your application and administrators can send messages through the Platform API. </p>
<h2 id='messages-messages-types'>Messages Types</h2>
<p>There are four types of messages;</p>
<h3 id='messages-messages-types-text-message'>Text Message</h3>
<p>Users can send text messages containing a unicode text body. These messages can contain emojis and other unicode characters
 but have no file attachments.</p>
<h3 id='messages-messages-types-file-message'>File Message</h3>
<p>Users can send files messages with one, or many file attachments.</p>
<h3 id='messages-messages-types-system-text-message'>System Text Message</h3>
<p>Administrators can send text messages containing a unicode text body. These messages can contain emojis and other unicode characters
 but have no file attachments.</p>

<aside class="notice">
 System text messages can only be sent using the Platform API.
</aside>
<h3 id='messages-messages-types-system-file-message'>System File Message</h3>
<p>Administrators can send files messages with one, or many file attachments.</p>

<aside class="notice">
 System file messages can only be sent using the Platform API.
</aside>
<h2 id='messages-get-messages'>Get messages</h2>
<blockquote>
<p>Get messages inside a channel</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">kitty</span><span class="o">.</span><span class="na">getChannelMessages</span><span class="o">(</span><span class="n">channel</span><span class="o">,</span> <span class="k">new</span> <span class="nc">ChatKittyCallback</span><span class="o">&lt;</span><span class="nc">GetMessagesResult</span><span class="o">&gt;()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="nc">GetMessagesResult</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">PageIterator</span><span class="o">&lt;</span><span class="nc">Message</span><span class="o">&gt;</span> <span class="n">iterator</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>

    <span class="k">while</span><span class="o">(</span><span class="n">iterator</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
      <span class="nc">Message</span> <span class="n">messages</span> <span class="o">=</span> <span class="n">iterator</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>

      <span class="c1">// Handle messages</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// Handle request cancellation</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">ChatKittyException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// Handle error</span>
  <span class="o">}</span>
<span class="o">});</span>
</code></pre></div>
<p>You can get messages in a <a href="#channels">channel</a> by calling the <code>ChatKitty.getChannelMessages(Channel, ChatKittyCallback&lt;GetMessagesResult&gt;)</code> method.</p>
<h2 id='messages-send-a-message'>Send a message</h2>
<p>You can send a message to a <a href="#channels">channel</a> by calling the <code>ChatKitty.sendChannelMessage(Channel, CreateMessageRequest, ChatKittyCallback&lt;CreateMessageResult&gt;)</code> method.</p>
<h3 id='messages-send-a-message-sending-a-text-message'>Sending a text message</h3>
<blockquote>
<p>Sending a text message to a channel</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">kitty</span><span class="o">.</span><span class="na">sendChannelMessage</span><span class="o">(</span><span class="n">channel</span><span class="o">,</span> 
  <span class="nc">CreateMessageRequestBuilder</span><span class="o">.</span><span class="na">textMessage</span><span class="o">(</span><span class="s">"Hello world!"</span><span class="o">).</span><span class="na">build</span><span class="o">(),</span> 
  <span class="k">new</span> <span class="nc">ChatKittyCallback</span><span class="o">&lt;</span><span class="nc">CreateTextMessageResult</span><span class="o">&gt;()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="nc">CreateTextMessageResult</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">TextMessage</span> <span class="n">message</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getMessage</span><span class="o">();</span>

      <span class="c1">// Handle message</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
      <span class="c1">// Handle request cancellation</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">ChatKittyException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// Handle error</span>
    <span class="o">}</span>
<span class="o">});</span>
</code></pre></div>
<p>To send a user text message, call the <code>CreateMessageRequestBuilder.textMessage(String)</code> static factory method 
which returns a <code>CreateTextMessageRequestBuilder</code> you can configure and build a <code>CreateMessageRequest</code>.</p>
<h3 id='messages-send-a-message-sending-a-file-message'>Sending a file message</h3>
<blockquote>
<p>Sending a file message to a channel</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">kitty</span><span class="o">.</span><span class="na">sendChannelMessage</span><span class="o">(</span><span class="n">channel</span><span class="o">,</span> 
  <span class="nc">CreateMessageRequestBuilder</span><span class="o">.</span><span class="na">fileMessage</span><span class="o">(</span><span class="n">file</span><span class="o">).</span><span class="na">build</span><span class="o">(),</span> 
  <span class="k">new</span> <span class="nc">ChatKittyCallback</span><span class="o">&lt;</span><span class="nc">CreateFileMessageResult</span><span class="o">&gt;()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="nc">CreateFileMessageResult</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">FileMessage</span> <span class="n">message</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getMessage</span><span class="o">();</span>

      <span class="c1">// Handle message</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
      <span class="c1">// Handle request cancellation</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nc">ChatKittyException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// Handle error</span>
    <span class="o">}</span>
<span class="o">});</span>
</code></pre></div>
<p>You can also send any binary file with the SDK. 
You can send the file by sending the <strong>file itself</strong>, or by sending a <strong>URL</strong>.  </p>

<p>You can send the file itself with the <code>CreateMessageRequestBuilder.fileMessage(File)</code> static factory method,
which returns a <code>CreateFileUploadMessageRequestBuilder</code>. </p>

<p>To send a URL, use <code>CreateMessageRequestBuilder.fileMessage(String)</code>, which returns a <code>CreateExternalFileMessageRequestBuilder</code>.  </p>

<p>You can configure both request builder types and build a <code>CreateMessageRequest</code>.</p>

  </div>
  <div class="dark-box">
      <div class="lang-selector">
            <a href="#" data-language-name="java">java</a>
      </div>
  </div>
</div>
<script src="https://www.chatkitty.com/js/plugins.js"></script>
<script src="https://www.chatkitty.com/js/init.js"></script>
<script src="https://www.chatkitty.com/js/main.js"></script>
</body>
</html>
